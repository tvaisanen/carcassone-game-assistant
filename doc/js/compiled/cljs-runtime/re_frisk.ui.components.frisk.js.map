{"version":3,"sources":["re_frisk/ui/components/frisk.cljs"],"mappings":"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","names":["re-frisk.ui.components.frisk/debounce-pending","cljs.core.atom","re-frisk.ui.components.frisk/debounce","key","delay","f","old-timeout","cljs.core/deref","cljs.core.get","new-timeout","js/setTimeout","cljs.core.swap_BANG_","cljs.core/assoc","js/clearTimeout","p__38975","map__38976","cljs.core/--destructure-map","re-frisk.ui.components.frisk/ExpandButton","expanded?","path","emit-fn","G__38977","G__38978","re-frisk.ui.components.frisk/styles","re-frisk.ui.components.frisk/ExpandAllButton","data","re-frisk.ui.components.frisk/CollapseAllButton","re-frisk.ui.components.frisk/button","label","p1__38979#","re-frisk.ui.components.frisk/FilterEditBox","inp-val","val","cljs.core/reset!","re-frisk.ui.components.frisk/FilterReset","p__38980","map__38981","re-frisk.ui.components.frisk/node-clicked","event","G__38982","G__38983","G__38984","re-frisk.ui.components.frisk/NilText","cljs.core.pr_str","re-frisk.ui.components.frisk/StringText","re-frisk.ui.components.frisk/KeywordText","re-frisk.ui.components.frisk/NumberText","re-frisk.ui.components.frisk/is-prefix","needle","haystack","cljs.core/count","cljs.core._EQ_","cljs.core.subvec","p__38995","map__38996","re-frisk.ui.components.frisk/Node","swappable","node","matching-paths","p1__38991#","cljs.core.merge","p1__38994#","e","G__38998","G__38999","G__39000","cljs.core/Keyword","cljs.core/name","G__39001","G__39002","G__39003","cljs.core.keyword","cljs.core/object?","G__39004","G__39005","G__39006","js/Number","re-frisk.ui.components.frisk/is-expanded","expanded-paths","expanded-matching-paths","or__4223__auto__","p__39007","map__39008","vec__39009","cljs.core.nth","re-frisk.ui.components.frisk/KeyValNode","k","v","re-frisk.ui.components.frisk/DataFrisk","cljs.core.conj","re-frisk.ui.components.frisk/copy","_","show-copied","re_frisk.inlined_deps.reagent.v1v0v0.reagent.core.atom","re-frisk.clipboard/copy-to-clip","sb__4760__auto__","goog.string/StringBuffer","*print-newline*-orig-val__39012","cljs.core/*print-newline*","*print-fn*-orig-val__39013","cljs.core/*print-fn*","*print-newline*-temp-val__39014","*print-fn*-temp-val__39015","x__4761__auto__","cljs.pprint.pprint","p__39016","map__39017","re-frisk.ui.components.frisk/MapNode","all","cljs.core/empty?","cljs.core/keys","cljs.core.map_indexed","i","x","cljs.core.assoc","p__39018","map__39019","re-frisk.ui.components.frisk/ListVecNode","cljs.core/vector?","p__39031","map__39032","re-frisk.ui.components.frisk/SetNode","p__39033","map__39034","cljs.core/map?","cljs.core/set?","cljs.core/seq?","cljs.core/PROTOCOL_SENTINEL","cljs.core/native-satisfies?","cljs.core/IDeref","re-frisk.ui.components.frisk/conj-to-set","coll","re-frisk.ui.components.frisk/expand-all-paths","root-value","remaining","cljs.core/seq","vec__39049","seq__39050","first__39051","cljs.core/first","cljs.core/next","current","rest","current-node","G__39052","cljs.core.concat","cljs.core.map","p__39057","vec__39058","cljs.core/coll?","re-frisk.ui.components.frisk/apply-filter","state","id","value","filter","re-frisk.filter.filter-parser/parse","cljs.core/assoc-in","re-frisk.ui.components.frisk/emit-fn-factory","state-atom","filter-refs","args","G__39064","js/Error","cljs.core/update-in","cljs.core/disj","p1__39063#","cljs.core/second","cljs.core.dissoc","vec__39069","re-frisk.ui.components.frisk/emit-fn-factory-simple","G__39072","var_args","G__39074","re-frisk.ui.components.frisk/walk-paths","re_frisk.ui.components.frisk.walk_paths","prefix","cljs.core.apply","clojure.set/union","p__39075","vec__39076","re-frisk.ui.components.frisk/matching-paths","filter'","cljs.core/set","p1__39083#","cljs.core.filter","re-frisk.filter.filter-matcher/match","re-frisk.ui.components.frisk/prefixes","cljs.core.reductions","cljs.core/conj","re-frisk.ui.components.frisk/expanded-matching-paths","paths","re-frisk.ui.components.frisk/scroll-frisk-list-item","filter-ref","current-search-index","dec?","len","indx","matching","cljs.core/vec","cljs.core.sort_by","p1__39085#","cljs.core/PersistentHashMap","cljs.core/dec","cljs.core/inc","temp__5753__auto__","elem","re-frisk.ui.components.frisk/Root","data-frisk","cljs.core/IAtom","cljs.core.get_in","expanded-matching","re-frisk.ui.components.components/scroller","re-frisk.ui.components.frisk/expand-by-default","p1__39090#","p2__39091#","cljs.core.reduce","cljs.core.range","re-frisk.ui.components.frisk/Root-Simple"],"sourcesContent":["(ns re-frisk.ui.components.frisk\n  (:require [clojure.set :as set]\n            [re-frisk.filter.filter-parser :as filter-parser]\n            [re-frisk.filter.filter-matcher :as filter-matcher]\n            [re-frisk.ui.components.components :as components]\n            [re-frisk.inlined-deps.reagent.v1v0v0.reagent.core :as reagent]\n            [re-frisk.clipboard :as clipboard]\n            cljs.pprint))\n\n;;original idea Odin Hole Standal https://github.com/Odinodin/data-frisk-reagent\n(declare DataFrisk)\n\n(def debounce-pending (atom {}))\n(defn debounce [key delay f]\n  (let [old-timeout (get @debounce-pending key)\n        new-timeout (js/setTimeout f delay)]\n    (swap! debounce-pending assoc key new-timeout)\n    (js/clearTimeout old-timeout)))\n\n(defn ExpandButton [{:keys [expanded? path emit-fn]}]\n  [:button {:style    {:border          0\n                       :backgroundColor \"transparent\" :width \"20px\" :height \"20px\"}\n            :on-click #(emit-fn (if expanded? :contract :expand) path)}\n   [:svg {:viewBox \"0 0 100 100\"\n          :width   \"100%\" :height \"100%\"\n          :style   {:transition \"all 0.2s ease\"\n                    :transform  (when expanded? \"rotate(90deg)\")}}\n    [:polygon {:points \"0,0 0,100 100,50\" :stroke \"gray\" :color \"gray\"}]]])\n\n(def styles\n  {:shell                {:backgroundColor \"#FAFAFA\"\n                          :fontFamily      \"Consolas,Monaco,Courier New,monospace\"\n                          :fontSize        \"12px\"\n                          :z-index         9999}\n   :strings              {:color \"#4Ebb4E\"}\n   :keywords             {:color \"purple\"}\n   :numbers              {:color \"blue\"}\n   :nil                  {:color \"red\"}\n   :shell-visible-button {:backgroundColor \"#4EE24E\"}})\n\n(defn ExpandAllButton [emit-fn data]\n  [:button {:on-click #(emit-fn :expand-all data)}\n   \"exp\"])\n\n(defn CollapseAllButton [emit-fn data]\n  [:button {:on-click #(emit-fn :collapse-all)}\n   \"coll\"])\n\n(defn button [label emit-fn]\n  [:button {:on-click emit-fn\n            :style    {:paddingLeft             \"5px\"\n                       :paddingRight            \"5px\"\n                       :marginLeft              \"5px\"}}\n   label])\n\n(defn FilterEditBox [emit-fn inp-val]\n  [:input {:type        \"text\"\n           :value       @inp-val\n           :style       {:flex 1 :margin-left 5}\n           :placeholder \"Type here to find keys...\"\n           :on-change   #(let [val (.. % -target -value)]\n                           (reset! inp-val val)\n                           (emit-fn :filter-change val))}])\n\n(defn FilterReset [emit-fn inp-val]\n  [:button {:style    {:margin-right 5 :width 25}\n            :on-click #(do\n                         (reset! inp-val \"\")\n                         (emit-fn :filter-change \"\" 0))} \"X\"])\n\n(defn node-clicked [{:keys [event emit-fn path]}]\n  (.stopPropagation event)\n  (emit-fn :filter-change-exp (str path) 0))\n\n(defn NilText []\n  [:span {:style (:nil styles)} (pr-str nil)])\n\n(defn StringText [data]\n  [:span {:style (:strings styles)} (pr-str data)])\n\n(defn KeywordText [data]\n  [:span {:style (:keywords styles)} (str data)])\n\n(defn NumberText [data]\n  [:span {:style (:numbers styles)} data])\n\n(defn is-prefix [needle haystack]\n  (and (< (count needle) (count haystack))\n       (= needle (subvec haystack 0 (count needle)))))\n\n(defn Node [{:keys [data path emit-fn swappable node matching-paths]}]\n  [:span {:style {:padding-top \"5px\"}}\n   (when node\n     [:span {:style {:padding-left \"20px\"}}\n      [Node node]])\n   [:span\n    (merge\n     {:on-click #(node-clicked {:event % :emit-fn emit-fn :path path})\n      :style    (merge (when node {:padding-left \"10px\"})\n                       (when (get matching-paths path)\n                         {:background-color \"#fff9db\"}))}\n     (when (get matching-paths path)\n       {:id  (str path)\n        :ref #(emit-fn :filter-ref path %)}))\n    (cond\n      (nil? data)\n      [NilText]\n\n      (string? data)\n      (if swappable\n        [:input {:type          \"text\"\n                 :default-value (str data)\n                 :on-change     (fn string-changed [e] (emit-fn :changed path (.. e -target -value)))}]\n        [StringText data])\n\n      (keyword? data)\n      (if swappable\n        [:input {:type          \"text\"\n                 :default-value (name data)\n                 :on-change     (fn keyword-changed [e] (emit-fn :changed path (keyword (.. e -target -value))))}]\n        [KeywordText data])\n\n      (object? data)\n      \"Object\"\n\n      (number? data)\n      (if swappable\n        [:input {:type          \"number\"\n                 :default-value data\n                 :on-change     (fn number-changed [e] (emit-fn :changed path (js/Number (.. e -target -value))))}]\n        [NumberText data])\n      :else\n      (str data))]])\n\n;; A path is expanded if it is explicitly expanded or if it is a part of\n;; current selection\n(defn is-expanded [expanded-paths expanded-matching-paths path]\n  (or (get expanded-paths path)\n      (get expanded-matching-paths path)))\n\n(defn KeyValNode [{[k v] :data :keys [path expanded-paths matching-paths expanded-matching-paths emit-fn swappable]}]\n  [:div {:style {:display \"flex\"}}\n   [DataFrisk {:node                    {:data           k\n                                         :emit-fn        emit-fn\n                                         :path           (conj path k)\n                                         :matching-paths matching-paths}\n               :data                    v\n               :swappable               swappable\n               :path                    (conj path k)\n               :expanded-paths          expanded-paths\n               :matching-paths          matching-paths\n               :expanded-matching-paths expanded-matching-paths\n               :emit-fn                 emit-fn}]])\n\n(defn copy [_]\n  (let [ show-copied (reagent/atom nil)]\n    (fn [data]\n      [:span {:on-click (fn []\n                          (reset! show-copied true)\n                          (js/setTimeout #(reset! show-copied false) 2000)\n                          (clipboard/copy-to-clip (with-out-str (cljs.pprint/pprint data))))\n              :style {:cursor :pointer}}\n       \" \u2398\"\n       (when @show-copied\n         [:span {:style {:background-color :white :border-radius 4 :margin-left 5}} \"copied\"])])))\n\n(defn MapNode [{:keys [data path expanded-paths expanded-matching-paths emit-fn node] :as all}]\n  (let [expanded? (is-expanded expanded-paths expanded-matching-paths path)]\n    [:div {:style {:display \"flex\" :padding-top \"3px\"}}\n     [:div {:style {:flex \"0 1 auto\"}}\n      (if (empty? data)\n        [:div {:style {:width \"20px\"}}]\n        [ExpandButton {:expanded? expanded?\n                       :path      path\n                       :emit-fn   emit-fn}])]\n     [:div {:style {:flex 1}}\n      (when node\n        [Node node])\n      [:span \" {\"]\n      [:span (str (count (keys data)) \" keys\")]\n      [:span \"}\"]\n      [copy data]\n      (when expanded?\n        (map-indexed (fn [i x] ^{:key i}\n                       [:div {:style {:flex 1}}\n                        [KeyValNode (assoc all :data x)]])\n                     data))]]))\n\n(defn ListVecNode [{:keys [data path expanded-paths matching-paths expanded-matching-paths emit-fn swappable node]}]\n  (let [expanded? (is-expanded expanded-paths expanded-matching-paths path)]\n    [:div {:style {:display \"flex\" :padding-top \"3px\"}}\n     [:div {:style {:flex \"0 1 auto\"}}\n      (if (empty? data)\n        [:div {:style {:width \"20px\"}}]\n        [ExpandButton {:expanded? expanded?\n                       :path      path\n                       :emit-fn   emit-fn}])]\n     [:div {:style {:flex 1}}\n      (when node\n        [Node node])\n      [:span (if (vector? data) \" [\" \" (\")\n       (str (count data) \" items\")]\n      [:span (if (vector? data) \"]\" \")\")]\n      [copy data]\n      (when expanded?\n        (map-indexed (fn [i x] ^{:key i} [:div {:style {:flex 1}}\n                                          [DataFrisk {:data                    x\n                                                      :swappable               swappable\n                                                      :path                    (conj path i)\n                                                      :expanded-paths          expanded-paths\n                                                      :matching-paths          matching-paths\n                                                      :expanded-matching-paths expanded-matching-paths\n                                                      :emit-fn                 emit-fn}]]) data))]]))\n\n(defn SetNode [{:keys [data path expanded-paths matching-paths expanded-matching-paths emit-fn swappable node]}]\n  (let [expanded? (is-expanded expanded-paths expanded-matching-paths path)]\n    [:div {:style {:display \"flex\" :padding-top \"3px\"}}\n     [:div {:style {:flex \"0 1 auto\"}}\n      (if (empty? data)\n        [:div {:style {:width \"20px\"}}]\n        [ExpandButton {:expanded? expanded?\n                       :path      path\n                       :emit-fn   emit-fn}])]\n     [:div {:style {:flex 1}}\n      (when node\n        [Node node])\n      [:span \" #{\"\n       (str (count data) \" items\")]\n      [:span \"}\"]\n      [copy data]\n      (when expanded?\n        (map-indexed (fn [i x] ^{:key i} [:div {:style {:flex 1}}\n                                          [DataFrisk {:data                    x\n                                                      :swappable               swappable\n                                                      :path                    (conj path x)\n                                                      :expanded-paths          expanded-paths\n                                                      :matching-paths          matching-paths\n                                                      :expanded-matching-paths expanded-matching-paths\n                                                      :emit-fn                 emit-fn}]]) data))]]))\n\n(defn DataFrisk [{:keys [data] :as all}]\n  (cond (map? data) [MapNode all]\n        (set? data) [SetNode all]\n        (or (seq? data) (vector? data)) [ListVecNode all]\n        (satisfies? IDeref data) [DataFrisk (assoc all :data @data)]\n        :else [Node all]))\n\n(defn conj-to-set [coll x]\n  (conj (or coll #{}) x))\n\n(defn expand-all-paths [root-value]\n  (loop [remaining [{:path [] :node root-value}]\n         expanded-paths #{}]\n    (if (seq remaining)\n      (let [[current & rest] remaining\n            current-node (if (satisfies? IDeref (:node current)) @(:node current) (:node current))]\n        (cond (map? current-node)\n              (recur\n               (concat rest (map (fn [[k v]] {:path (conj (:path current) k)\n                                              :node v})\n                                 current-node))\n               (conj expanded-paths (:path current)))\n              (or (seq? current-node) (vector? current-node))\n              (recur\n               (concat rest (map-indexed (fn [i node] {:path (conj (:path current) i)\n                                                       :node node})\n                                         current-node))\n               (conj expanded-paths (:path current)))\n              :else\n              (recur\n               rest\n               (if (coll? current-node)\n                 (conj expanded-paths (:path current))\n                 expanded-paths))))\n      expanded-paths)))\n\n(defn apply-filter [state id value]\n  (let [filter (filter-parser/parse value)]\n    (assoc-in state [:data-frisk id :filter] filter)))\n\n(defn emit-fn-factory [state-atom id swappable filter-refs inp-val]\n  (fn [event & args]\n    (case event\n      :expand (swap! state-atom update-in [:data-frisk id :expanded-paths] conj-to-set (first args))\n      :expand-all (swap! state-atom assoc-in [:data-frisk id :expanded-paths] (expand-all-paths (first args)))\n      :contract (swap! state-atom update-in [:data-frisk id :expanded-paths] disj (first args))\n      :collapse-all (swap! state-atom assoc-in [:data-frisk id :expanded-paths] #{})\n      :filter-ref (swap! filter-refs #(if (second args)\n                                        (assoc % (first args) (second args))\n                                        (dissoc % (first args))))\n      :filter-change-exp\n      (do\n        (reset! inp-val (first args))\n        (swap! state-atom apply-filter id (first args)))\n      :filter-change\n      (do\n        (reset! inp-val (first args))\n        (debounce :filter-change 400 #(swap! state-atom apply-filter id (first args))))\n      :changed (let [[path value] args]\n                 (if (seq path)\n                   (swap! swappable assoc-in path value)\n                   (reset! swappable value))))))\n\n(defn emit-fn-factory-simple [state-atom id]\n  (fn [event & args]\n    (case event\n      :expand (swap! state-atom update-in [:data-frisk id :expanded-paths] conj-to-set (first args))\n      :contract (swap! state-atom update-in [:data-frisk id :expanded-paths] disj (first args))\n      nil)))\n\n(defn walk-paths\n  ([data]\n   (walk-paths [] data))\n  ([prefix data]\n   (conj\n    (cond (map? data)\n          (apply set/union\n                 (map (fn [[k v]] (walk-paths (conj prefix k) v)) data))\n          (set? data)\n          (apply set/union\n                 (map (fn [v] (walk-paths (conj prefix v) v)) data))\n          (or (seq? data) (vector? data))\n          (apply set/union\n                 (map-indexed\n                  (fn [i v] (walk-paths (conj prefix i) v)) data))\n          (satisfies? IDeref data) (walk-paths prefix @data)\n          :else #{})\n    prefix)))\n\n(defn matching-paths [data filter']\n  (set (filter #(filter-matcher/match filter' %) (walk-paths data))))\n\n(defn prefixes [path]\n  (set (reductions conj [] path)))\n\n;; Any node which is a prefix of a matched path needs to be expnaded\n(defn expanded-matching-paths [paths]\n  (apply set/union (map prefixes paths)))\n\n(defn scroll-frisk-list-item [filter-ref current-search-index dec?]\n  (let [filter-ref @filter-ref\n        len (count filter-ref)\n        indx @current-search-index]\n    (when (> len 0)\n      (let [matching (vec (sort-by :y (map #(hash-map\n                                             :path (first %)\n                                             :y (.-top (.getBoundingClientRect (second %)))\n                                             :el (second %))\n                                           filter-ref)))]\n        (if dec?\n          (if (or (zero? indx)\n                  (>= (dec indx) len))\n            (reset! current-search-index (dec len))\n            (swap! current-search-index dec))\n          (if (>= (inc indx) len)\n            (reset! current-search-index 0)\n            (swap! current-search-index inc)))\n        (when-let [path (get matching indx)]\n          (when-let [elem (:el path)]\n            (.scrollIntoView elem #js {:block \"center\"})))))))\n\n(defn Root [_ _ _]\n  (let [filter-refs (atom {})\n        current-search-index (atom 0)\n        inp-val (reagent/atom \"\")]\n    (fn [data id state-atom]\n      (let [data-frisk (:data-frisk @state-atom)\n            swappable (when (satisfies? IAtom data)\n                        data)\n            filter (or (get-in data-frisk [id :filter]) [])\n            matching (matching-paths data filter)\n            expanded-matching (expanded-matching-paths matching)\n            emit-fn (emit-fn-factory state-atom id swappable filter-refs inp-val)]\n        [:div {:style {:background-color \"#f3f3f3\" :color \"#444444\" :flex 1 :display :flex :flex-direction :column}}\n         [:div {:style {:padding \"4px 2px\" :display :flex}}\n          [ExpandAllButton emit-fn data]\n          [CollapseAllButton emit-fn]\n          [:div {:style {:padding \"2px\" :margin-left \"4px\" :background-color \"#fff9db\"}} (count matching)]\n          [button \"\u2191\" #(scroll-frisk-list-item filter-refs current-search-index true)]\n          [button \"\u2193\" #(scroll-frisk-list-item filter-refs current-search-index false)]\n          [FilterEditBox emit-fn inp-val]\n          [FilterReset emit-fn inp-val]]\n         [components/scroller\n          [DataFrisk {:data                    data\n                      :swappable               swappable\n                      :path                    []\n                      :expanded-paths          (get-in data-frisk [id :expanded-paths])\n                      :matching-paths          matching\n                      :expanded-matching-paths expanded-matching\n                      :emit-fn                 emit-fn}]]]))))\n\n(def expand-by-default (reduce #(assoc-in %1 [:data-frisk %2 :expanded-paths] #{[]}) {} (range 1)))\n\n(defn Root-Simple [_ _ _]\n  (let [state-atom (reagent/atom expand-by-default)]\n    (fn [data]\n      [DataFrisk {:data                    data\n                  :path                    []\n                  :expanded-paths          (get-in @state-atom [:data-frisk 0 :expanded-paths])\n                  :emit-fn                 (emit-fn-factory-simple state-atom 0)}])))"]}