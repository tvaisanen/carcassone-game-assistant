{"version":3,"sources":["re_frisk/ui/views.cljs"],"mappings":"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","names":["re-frisk.ui.views/subs-view","subs","checkbox-sorted-val","state-atom","re_frisk.inlined_deps.reagent.v1v0v0.reagent.core.atom","re-frisk.ui.components.frisk/expand-by-default","_","re-frisk.ui.components.frisk/Root","cljs.core/deref","re-frisk.utils/sort-map","re-frisk.ui.views/watch-item","frisk-data","item","watchers","re-com.core/v-box","re-com.core/h-box","re-com.core/gap","re-frisk.ui.components.components/label-button","cljs.core.swap_BANG_","cljs.core/disj","re-frisk.ui.components.frisk/Root-Simple","re-frisk.ui.views/app-db-view","app-db","tool-state","cljs.core/seq","app-db-derefed","re-frisk.ui.components.components/scroller","iter__4622__auto__","s__39217","cljs.core/LazySeq","temp__5753__auto__","cljs.core/chunked-seq?","c__4620__auto__","size__4621__auto__","cljs.core/count","b__39219","cljs.core/chunk-buffer","i__39218","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__39216","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","watcher","cljs.core.get_in","re-com.core/label","re-com.core/checkbox","re-frisk.utils/on-change-sort","filter","cljs.core/contains?","cljs.core/conj","cljs.core.mapv","re-frisk.ui.views/frisks-view","re-frame-data","doc","subs-checkbox-sorted-val","open-event-split?","re-frisk.inlined-deps.reagent.v1v0v0.reagent.ratom/make-reaction","cljs.core/boolean","cljs.core.get","re-frisk.ui.components.splits/v-split","re-frisk.ui.events/event-bar","re-frisk.ui.events/frisk-view","re-frisk.ui.views/controls","map__39220","cljs.core/--destructure-map","timeline-opened?","paused?","graph-opened?","stat-opened?","views-opened?","cljs.core/update","cljs.core/not","cljs.core/reset!","cljs.core/dissoc","cljs.core/assoc","re-frisk.ui.components.github/link","var_args","args__4835__auto__","len__4829__auto__","i__4830__auto__","argseq__4836__auto__","cljs.core/IndexedSeq","re-frisk.ui.views/main-view","p__39224","vec__39225","cljs.core.nth","seq39221","G__39222","cljs.core/next","G__39223","self__4816__auto__","open-graph-split?","open-stat-split?","open-views-split?","or__4223__auto__","re-frisk.ui.reagent-views/views","re-frisk.ui.stat/stat","re-frisk.ui.subs/subs-visibility","re-frisk.ui.timeline/timeline-visibility","re-frisk.ui.components.splits/h-split","re-frisk.ui.events/events-list-view","cljs.core/chunk-first"],"sourcesContent":["(ns re-frisk.ui.views\n  (:require-macros [re-frisk.inlined-deps.reagent.v1v0v0.reagent.ratom :refer [reaction]])\n  (:require\n   [re-frisk.inlined-deps.reagent.v1v0v0.reagent.core :as reagent]\n   [re-com.core :as re-com]\n   [re-frisk.ui.events :as events]\n   [re-frisk.ui.components.splits :as splits]\n   [re-frisk.ui.components.frisk :as frisk]\n   [re-frisk.utils :as utils]\n   [re-frisk.ui.timeline :as timeline]\n   [re-frisk.ui.components.components :as components]\n   [re-frisk.ui.subs :as subs]\n   [re-frisk.ui.components.github :as github]\n   [re-frisk.ui.stat :as stat]\n   [re-frisk.ui.reagent-views :as reagent-views]))\n\n(defn subs-view [subs checkbox-sorted-val]\n  (let [state-atom (reagent/atom frisk/expand-by-default)]\n    (fn [_]\n      [frisk/Root (utils/sort-map @subs @checkbox-sorted-val checkbox-sorted-val) 0 state-atom])))\n\n(defn watch-item [frisk-data item watchers]\n  [re-com/v-box\n   :children\n   [[re-com/h-box :style {:background-color \"#4e5d6c\"}\n     :children\n     [[:div (str \"Watching \" item)]\n      [re-com/gap :size \"10px\"]\n      [components/label-button {:on-click #(swap! watchers disj item)\n                                :active? false}\n       \"Stop\"]]]\n    [re-com/v-box :style {:padding 10 :color \"#444444\"}\n     :children\n     [[frisk/Root-Simple frisk-data]]]]])\n\n(defn app-db-view [app-db tool-state]\n  (let [state-atom          (reagent/atom frisk/expand-by-default)\n        watchers            (reagent/atom #{})\n        checkbox-sorted-val (reagent/atom true)]\n    (fn [_]\n      [re-com/v-box :size \"1\"\n       :children\n       [(when (seq @watchers)\n          (let [app-db-derefed @app-db]\n            [components/scroller\n             {:style {:background-color \"#f3f3f3\"}}\n             (for [watcher @watchers]\n               ^{:key watcher}\n               [watch-item (get-in app-db-derefed watcher) watcher watchers])]))\n        [re-com/h-box\n         :children\n         [[re-com/label :label \"app-db\"]\n          [re-com/gap :size \"20px\"]\n          [re-com/checkbox\n           :model checkbox-sorted-val\n           :on-change (utils/on-change-sort app-db checkbox-sorted-val :re-frisk-sorted)\n           :label \"sort\"]\n          (when (:app-db-delta-error @tool-state)\n            [re-com/label :label \"update error\" :style {:margin-left \"4px\" :color \"#df691a\"}])\n          [re-com/gap :size \"48px\"]\n          (when-let [filter (get-in @state-atom [:data-frisk 0 :filter])]\n            (when (contains? (first filter) :expr)\n              [components/label-button {:on-click #(swap! watchers conj (mapv :expr filter))\n                                        :active? false}\n               \"Watch\"]))]]\n        [frisk/Root (utils/sort-map @app-db @checkbox-sorted-val checkbox-sorted-val) 0 state-atom]]])))\n\n(defn frisks-view [re-frame-data tool-state doc]\n  (let [subs-checkbox-sorted-val (reagent/atom true)\n        open-event-split?        (reaction (boolean (get @tool-state :selected-event)))]\n    (fn [_ _ _]\n      [re-com/v-box :size \"1\" :style {:padding \"0\"}\n       :children [[re-com/h-box :style {:background-color \"#4e5d6c\"}\n                   :children\n                   [[re-com/label :label \"Active subscriptions\"]\n                    [re-com/gap :size \"20px\"]\n                    [re-com/checkbox\n                     :model subs-checkbox-sorted-val\n                     :on-change (utils/on-change-sort (:subs re-frame-data) subs-checkbox-sorted-val [[:re-frisk-sorted] []])\n                     :label \"sort\"]\n                    (when (:subs-delta-error @tool-state)\n                      [re-com/label :label \"update error\" :style {:margin-left \"4px\" :color \"#df691a\"}])]]\n                  [splits/v-split :size \"1\" :initial-split \"0\" :style {:padding \"0\" :margin \"0\"} :document doc\n                   ;; SUBS\n                   :panel-1 [subs-view (:subs re-frame-data) subs-checkbox-sorted-val]\n                   :panel-2 [splits/v-split :size \"1\" :initial-split \"100\" :style {:padding \"0\" :margin \"0\"}\n                             :document doc :open-bottom-split? @open-event-split?\n                             :panel-1 [re-com/v-box :size \"1\" :style {:background-color \"#4e5d6c\"}\n                                       :children\n                                       ;; APP-DB\n                                       [[app-db-view (:app-db re-frame-data) tool-state]\n                                        [events/event-bar tool-state]]]\n                             ;; EVENT\n                             :panel-2 [events/frisk-view tool-state]]]]])))\n\n(defn controls [re-frame-data tool-state]\n  (let [{:keys [timeline-opened? paused? graph-opened? stat-opened? views-opened?]} @tool-state]\n    [re-com/h-box :style {:background-color \"#4e5d6c\"} :align :center\n     :children\n     [[components/label-button {:on-click #(swap! tool-state update :paused? not)\n                                :active? paused?}\n       (if paused? \"Resume\" \"Pause\")]\n      [re-com/gap :size \"5px\"]\n      [components/label-button\n       {:on-click #(do (reset! (:events re-frame-data) [])\n                       (swap! tool-state dissoc :selected-event))\n        :active? false}\n       \"Clear\"]\n      [re-com/gap :size \"1\"]\n      [components/label-button {:on-click #(do\n                                             (swap! tool-state assoc :graph-opened? false)\n                                             (swap! tool-state assoc :stat-opened? false)\n                                             (swap! tool-state assoc :views-opened? false)\n                                             (swap! tool-state update :timeline-opened? not))\n                                :active? timeline-opened?}\n       \"Timeline\"]\n      [re-com/gap :size \"5px\"]\n      [components/label-button {:on-click #(do\n                                             (swap! tool-state assoc :timeline-opened? false)\n                                             (swap! tool-state assoc :stat-opened? false)\n                                             (swap! tool-state assoc :views-opened? false)\n                                             (swap! tool-state update :graph-opened? not))\n                                :active? graph-opened?}\n       \"Subs\"]\n      [re-com/gap :size \"5px\"]\n      [components/label-button {:on-click #(do\n                                             (swap! tool-state assoc :timeline-opened? false)\n                                             (swap! tool-state assoc :graph-opened? false)\n                                             (swap! tool-state assoc :stat-opened? false)\n                                             (swap! tool-state update :views-opened? not))\n                                :active? views-opened?}\n       \"Views\"]\n      [re-com/gap :size \"5px\"]\n      [components/label-button {:on-click #(do\n                                             (swap! tool-state assoc :timeline-opened? false)\n                                             (swap! tool-state assoc :graph-opened? false)\n                                             (swap! tool-state assoc :views-opened? false)\n                                             (swap! tool-state update :stat-opened? not))\n                                :active? stat-opened?}\n       \"Stat\"]\n      [re-com/gap :size \"15px\"]\n      [github/link]\n      [re-com/gap :size \"5px\"]]]))\n\n(defn main-view [re-frame-data tool-state & [doc]]\n  (let [open-graph-split? (reaction (get @tool-state :graph-opened?))\n        open-stat-split? (reaction (get @tool-state :stat-opened?))\n        open-views-split? (reaction (get @tool-state :views-opened?))]\n    (fn []\n      [splits/v-split :height \"100%\" :initial-split \"0\" :document doc :style {:padding \"0\" :margin \"0\"}\n       :open-bottom-split? (or @open-graph-split? @open-stat-split? @open-views-split?)\n       :close-bottom-split? (not (or @open-graph-split? @open-stat-split? @open-views-split?))\n       :panel-1\n       (if @open-views-split?\n         [reagent-views/views re-frame-data]\n         (if @open-stat-split?\n           [stat/stat re-frame-data]\n           [subs/subs-visibility re-frame-data tool-state]))\n       :panel-2\n       [re-com/v-box :size \"1\"\n        :children\n        [[timeline/timeline-visibility re-frame-data tool-state]\n         [controls re-frame-data tool-state]\n         [splits/h-split :size \"1\" :initial-split \"25\" :document doc\n          ;;EVENTS\n          :panel-1 [events/events-list-view re-frame-data tool-state]\n          ;;MAIN (subs, app-db, event)\n          :panel-2 [frisks-view re-frame-data tool-state doc]]]]])))"]}