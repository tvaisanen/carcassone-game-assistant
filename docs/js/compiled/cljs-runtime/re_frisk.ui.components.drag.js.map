{"version":3,"sources":["re_frisk/ui/components/drag.cljs"],"mappings":";AAKA,GAAA,QAAAA,qCAAAC,wCAAAC,mDAAAC,wDAAAC;AAAA;AAAA,AAAA,AAASC,wCAAU,qFAAA,rFAACC;;AAEpB,iDAAA,jDAAMC,0GAAoBC;AAA1B,AACE,gHAAA,zGAACC,mDAAMJ,sCAAUK,+DAAS,CAAG,AAAWF,cAAK,AAAA,sFAAA,AAAAG,gBAAUN;;AAEzD,+CAAA,/CAAMO,sGAAkBJ;AAAxB,AACI,AAACK,qBAAqBC,OAAUC,gCAAoBR;;AACpD,iHAAA,1GAACE,mDAAMJ,sCAAUW;;AAErB,iDAAA,jDAAMC,0GAAoBT;AAA1B,AACE,yGAAA,zGAACC,mDAAMJ,sCAAUK,wEAAc,CAAG,AAAWF,cAAK,AAAQ,AAAwB,AAAUA;;AAC5F,OAACU,mBAAmBJ,OAAUC,gCAAoBR;;AAEpD,AAACW,mBAAmBJ,OAAUK,8BAAkBP","names":["js/re-frisk","js/re-frisk.ui","js/re-frisk.ui.components","js/re-frisk.ui.components.drag","js/re-frisk.ui.components.drag.draggable","re-frisk.ui.components.drag/draggable","re_frisk.inlined_deps.reagent.v1v0v0.reagent.core.atom","re-frisk.ui.components.drag/mouse-move-handler","evt","cljs.core.swap_BANG_","cljs.core/assoc","cljs.core/deref","re-frisk.ui.components.drag/mouse-up-handler","goog.events/unlisten","js/window","goog.events.EventType/MOUSEMOVE","cljs.core/dissoc","re-frisk.ui.components.drag/mouse-down-handler","goog.events/listen","goog.events.EventType/MOUSEUP"],"sourcesContent":["(ns re-frisk.ui.components.drag\n  (:require [goog.events :as goog-events]\n            [re-frisk.inlined-deps.reagent.v1v0v0.reagent.core :as reagent])\n  (:import [goog.events EventType]))\n\n(defonce draggable (reagent/atom {}))\n\n(defn mouse-move-handler [evt]\n  (swap! draggable assoc :x (- (.-clientX evt) (:offset @draggable))))\n\n(defn mouse-up-handler [evt]\n    (goog-events/unlisten js/window EventType.MOUSEMOVE mouse-move-handler)\n    (swap! draggable dissoc :offset))\n\n(defn mouse-down-handler [evt]\n  (swap! draggable assoc :offset (- (.-clientX evt) (.-left (.getBoundingClientRect (.-target evt)))))\n  (goog-events/listen js/window EventType.MOUSEMOVE mouse-move-handler))\n\n(goog-events/listen js/window EventType.MOUSEUP mouse-up-handler)"]}